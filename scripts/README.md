# Мониторинг пайплайна GitHub Actions

## Автоматический запуск после push

Система автоматического мониторинга настроена через Git hooks и запускается после каждого push в репозиторий.

### Настройка

1. **Git hooks настроены** - папка `.git/hooks` содержит хуки для автоматического запуска
2. **Права на выполнение** - все скрипты имеют права на выполнение
3. **Путь к хукам** - Git настроен на использование кастомных хуков: `git config core.hooksPath .git/hooks`

### Доступные хуки

#### post-commit
- **Когда срабатывает**: После каждого коммита
- **Условие**: Только если есть изменения для push
- **Действие**: Запускает мониторинг пайплайна в фоновом режиме

#### pre-push  
- **Когда срабатывает**: Перед каждым push
- **Условие**: Всегда
- **Действие**: Запускает мониторинг пайплайна в фоновом режиме

### Логирование

- **Логи мониторинга**: `/tmp/pipeline-monitor.log`
- **Фоновый режим**: Мониторинг запускается через `nohup`
- **Уведомления**: Озвучивание через команду `say`

### Вывод ошибок

При ошибках в джобах или workflow скрипт выводит:

- **Полную ошибку** из джобы
- **Сообщение об ошибке** workflow
- **Цветное форматирование** для лучшей читаемости

### Проверка работы

1. Сделайте коммит: `git commit -m "test"`
2. Запушьте изменения: `git push`
3. Проверьте логи: `tail -f /tmp/pipeline-monitor.log`

### Ручной запуск

Если нужно запустить мониторинг вручную:

```bash
# Запуск мониторинга
./scripts/pipeline-monitor.sh

# Или через упрощенный скрипт
./scripts/monitor-pipeline.sh
```

### Требования

- GitHub CLI (`gh`) установлен и авторизован
- Команда `say` доступна для озвучивания
- Права на чтение GitHub Actions API 