# Навигация в BEZNOMERA

## Обзор

Веб-приложение BEZNOMERA использует компонент навигации на основе HeroUI Navbar, который автоматически скрывается при запуске в Telegram Mini App.

## Компоненты

### Navigation
Основной компонент навигации находится в `src/components/Navigation/Navigation.tsx`.

**Особенности:**
- Автоматическое определение Telegram Mini App
- Адаптивное меню для мобильных устройств
- Динамическое отображение пунктов меню в зависимости от авторизации
- Поддержка активных состояний

### useTelegramApp
Хук для определения, запущено ли приложение в Telegram Mini App (`src/hooks/useTelegramApp.ts`).

**Методы определения:**
- Проверка наличия `window.Telegram?.WebApp`
- Проверка URL на наличие `tgWebAppData`
- Проверка данных инициализации через `initDataRaw()`

## Структура навигации

### Пункты меню

| Название | Путь | Требует авторизации | Описание |
|----------|------|---------------------|----------|
| Главная | `/` | Нет | Главная страница со списком автомобилей |
| Мои авто | `/dashboard` | Да | Панель управления пользователя |
| Добавить авто | `/car/new` | Да | Форма создания нового автомобиля |
| Тест | `/test-nav` | Нет | Тестовая страница для проверки навигации |
| Войти | `/auth` | Нет | Страница авторизации |

### Логика отображения

1. **Telegram Mini App**: Навигация полностью скрывается
2. **Обычный браузер**: 
   - Неавторизованные пользователи видят: Главная, Тест, Войти
   - Авторизованные пользователи видят: Главная, Мои авто, Добавить авто, Тест, Войти

## Использование

### Добавление нового пункта меню

1. Добавьте новый пункт в массив `menuItems` в `Navigation.tsx`:

```typescript
const menuItems = [
  // ... существующие пункты
  { name: 'Новая страница', href: '/new-page', requiresAuth: true }
];
```

2. Создайте соответствующую страницу в `src/app/new-page/page.tsx`

### Скрытие навигации для определенных страниц

Если нужно скрыть навигацию для конкретной страницы, добавьте проверку в компонент:

```typescript
if (pathname === '/special-page') {
  return <>{children}</>;
}
```

## Telegram Mini App

При запуске в Telegram Mini App:
- Навигация полностью скрывается
- Используются стандартные средства навигации Telegram
- Приложение адаптируется под интерфейс Telegram

## Стилизация

Навигация использует:
- HeroUI компоненты для базовой функциональности
- Tailwind CSS для кастомизации
- CSS переменные для цветов темы
- Backdrop blur эффекты

## Отладка

Для проверки работы навигации:
1. Откройте `/test-nav` в браузере
2. Проверьте адаптивность на мобильных устройствах
3. Убедитесь, что навигация скрывается в Telegram Mini App

## Зависимости

- `@heroui/react` - компоненты навигации
- `@telegram-apps/sdk-react` - определение Telegram Mini App
- `next/navigation` - роутинг
- `@/hooks/useAuth` - проверка авторизации 